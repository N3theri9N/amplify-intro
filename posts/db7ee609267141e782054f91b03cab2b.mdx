---
title: NextJS 13
date: 2022-10-28 20:21
tag: NextJS, FrontEnd
---

ì¶œì²˜ : [https://nextjs.org/blog/next-13](https://nextjs.org/blog/next-13)

2022ë…„ 10ì›” 26ì¼ì— nextJS 13 ì´ ë°œí‘œë˜ì—ˆë‹¤.

ì—…ë°ì´íŠ¸ ëª…ë ¹ì–´

`npm i next@latest react@latest react-dom@latest eslint-config-next@latest`

## `app/` ë””ë ‰í† ë¦¬ ( beta )

ìë™ ë¼ìš°íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” Next.js ì—ì„œ ìƒˆë¡œì´ ì¶”ê°€ëœ ê¸°ëŠ¥ìœ¼ë¡œ ê¸°ì¡´ pages ë””ë ‰í† ë¦¬ë¡œ ì•„ë¬´ëŸ° ì„¤ì •íŒŒì¼ ì—†ì´ `index.js` ë¥¼ ë„£ì–´ì£¼ë©´ ë¼ìš°íŒ…ì´ ì§€ì›ë˜ì—ˆë‹¤.

ì´ì œ **`app/`** ë””ë ‰í† ë¦¬ ì´í•˜ì— ë„£ìœ¼ë©´ ì‹  ê¸°ëŠ¥ì´ ë„ì…ëœ ë¼ìš°íŒ…ì´ ê°€ëŠ¥í•´ì§„ë‹¤. **ë‹¨ í˜ì´ì§€ ë¼ìš°íŒ…í•˜ë ¤ë©´ `page.js` ë¼ê³  ëª…ì‹œí•´ì•¼í•œë‹¤.**

<aside>
ğŸ’¡ ì‹ ê·œ ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ë‹¤.

- Layout : ê²½ë¡œê°„ UI ê³µìœ 
- Server Component : ë™ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ì„œë²„ í–‰ë™ì´ ë¨¼ì €ì¸ ì»´í¬ë„ŒíŠ¸
- Streaming : ì ì§„ì ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” UI
- Support for Data Fetching : async ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í™•ì¥ëœ ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ì˜ fetch API ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
</aside>

### Layouts

![](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F81be5325-b7cd-46c3-bdb3-a4eff75dc599%2FUntitled.png?table=block&id=c40795bd-8ddb-4366-a4bc-32edfc4eb0dc&spaceId=b67b8caf-0e30-4e9a-b6db-84175dd949a3&width=1920&userId=6129882c-fb78-4471-a25e-d9e686069e4c&cache=v2)

`app/` ë””ë ‰í† ë¦¬ ì´í•˜ì˜ `layout.js` íŒŒì¼ì€ ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ê³µìœ ë¥¼ í•œë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒíƒœê°€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ë©° **ë¦¬ë Œë”ë§ ë˜ì§€ ì•ŠëŠ”ë‹¤.** ë§ ê·¸ëŒ€ë¡œ ì €ë ‡ê²Œ ì„ ì–¸ë§Œ í•˜ë©´ ë‹¤ë¥¸ í˜ì´ì§€ì—ë„ ë™ì¼í•œ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ê°€ ì¶œë ¥ëœë‹¤.

ìƒì„¸ ì„¤ëª… : [https://beta.nextjs.org/docs/routing/fundamentals#special-files](https://beta.nextjs.org/docs/routing/fundamentals#special-files)

### Server Component

`app/` ë””ë ‰í† ë¦¬ëŠ” Reactì˜ ìƒˆë¡œìš´ ì„œë²„ êµ¬ì„±ìš”ì†Œ ì•„í‚¤í…ì³ë¥¼ ì§€ì›í•œë‹¤.

ê²½ë¡œê°€ ë¡œë“œë˜ë©´ ìºì‹œ ê°€ëŠ¥í•˜ê³  í¬ê¸°ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆëŠ” `next.js` ë° ëŸ°íƒ€ì„ì´ ë¡œë“œë˜ë©° ì‘ìš© í”„ë¡œê·¸ë¨ì´ ì»¤ì§€ë”ë¼ë„ ê¸¸ì–´ì§€ì§„ ì•ŠëŠ”ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €) ë¡œì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ í˜¸ì¶œ ìš©ëŸ‰ì´ ì¤„ì–´ë“¤ë©° ì²« í˜ì´ì§€ ë¡œë”©ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

ìƒì„¸ì„¤ëª… : [https://beta.nextjs.org/docs/rendering/server-and-client-components](https://beta.nextjs.org/docs/rendering/server-and-client-components)

### Streaming

`app/` ë””ë ‰í† ë¦¬ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë Œë”ë§ ëœ UI ë¥¼ ì ì§„ì ìœ¼ë¡œ ë Œë”ë§ í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

ì„œë²„ ì»´í¬ë„ŒíŠ¸ë‘ ì¤‘ì²©ëœ layout ì´ë©´, íŠ¹ë³„íˆ ë°ì´í„°ê°€ í•„ìš”í•˜ì§€ ì•Šì€ í˜ì´ì§€ì˜ ì¼ë¶€ëŠ” ì¦‰ì‹œ ë¡œë”© ìƒíƒœë¥¼ ë Œë”ë§í•˜ê²Œ í•œë‹¤. ì´ëŸ¬ë©´ ì‚¬ìš©ìëŠ” ì „ì²´ í˜ì´ì§€ê°€ ë¡œë“œ ë˜ê¸° ê¹Œì§€ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.

ìƒì„¸ì„¤ëª… : [https://beta.nextjs.org/docs/data-fetching/fundamentals#streaming-and-suspense](https://beta.nextjs.org/docs/data-fetching/fundamentals#streaming-and-suspense)

### Data Fetching

```jsx
// app/page.js
async function getData() {
  const res = await fetch("https://api.example.com/...");
  // The return value is *not* serialized
  // You can return Date, Map, Set, etc.
  return res.json();
}

// This is an async Server Component
export default async function Page() {
  const data = await getData();

  return <main>{/* ... */}</main>;
}
```

ì»´í¬ë„ŒíŠ¸ì—ì„œ ë” ê°•ë ¥í•˜ê³  ìƒˆë¡œìš´ data ë¥¼ fetch í•˜ëŠ” ë°©ë²•ì´ë‘ promise ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì„ ì œì‹œí•œë‹¤.

ê¸°ì¡´ SSG, SSR, ISR ì˜ ëª¨ë“  ì¥ì ì„ ì“¸ ìˆ˜ ìˆë„ë¡ **í•œ ê°€ì§€ fetch API ë¡œ í•©ì³ì§„ ê¸°ëŠ¥ì„ ì œê³µ**í•œë‹¤. ( íŒ¨ì¹˜, ìºì‹±, ë°ì´í„° ì¬ê²€ì¦ )

```java
// This request should be cached until manually invalidated.
// Similar to `getStaticProps`.
// `force-cache` is the default and can be omitted.
// ê¸°ë³¸ ê°’ì´ë‹¤. getStaticProps ë‘ ë¹„ìŠ·í•˜ë‹¤. ( ë¹Œë“œ ì‹œì ì— fetch í•¨ )
fetch(URL, { cache: 'force-cache' });

// This request should be refetched on every request.
// Similar to `getServerSideProps`.
// ë§¤ë²ˆ í˜¸ì¶œë•Œë§ˆë‹¤ fetch ì‹¤í–‰í•˜ë¯€ë¡œ getServerSideProps ì™€ ìœ ì‚¬.
fetch(URL, { cache: 'no-store' });

// This request should be cached with a lifetime of 10 seconds.
// Similar to `getStaticProps` with the `revalidate` option.
// revalidate ì˜µì…˜ì„ ì§€ì •í•œ getStaticProps ì™€ ìœ ì‚¬
fetch(URL, { next: { revalidate: 10 } });
```

ë˜í•œ app ë‚´ë¶€ì—ì„  `getServerSideProps`, `getStaticProps`,~~ê·¸ë¦¬ê³  ì§„ì‘íˆ ì•ˆì“°ëŠ”~~ `getInitialProps` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

ê·¸ ë™ì•ˆ `getStaticProps` ì™€ í•¨ê»˜í•˜ë˜ `getStaticPaths` ëŠ” ë™ì¼í•œ ê¸°ëŠ¥ìœ¼ë¡œ `generateStaticParams` ëŒ€ì²´ë˜ì–´ SSG ë¥¼ ë‹´ë‹¹í•œë‹¤.

```jsx
// Return a list of `params` to populate the [slug] dynamic segment
export function generateStaticParams() {
  return [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }];
}

// Multiple versions of this page will be statically generated
// using the `params` returned by `generateStaticParams`
export default function Page({ params }) {
  const { slug } = params;
  // ...
}
```

**ìƒì„¸ ë¬¸ì„œ : [https://beta.nextjs.org/docs/data-fetching/fundamentals](https://beta.nextjs.org/docs/data-fetching/fundamentals)**

---

## Turbopack ( alpha )

<aside>
ğŸ’¬ webpack ì˜ ì†ë„ë¥¼ ë¹ ë¥´ê²Œ í•˜ëŠ” turbopack ì´ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤. 3,000 ëª¨ë“ˆ í”„ë¡œì íŠ¸ ê¸°ì¤€ìœ¼ë¡œ TurboPack ì€ ë¶€íŒ…ë˜ê¸°ê¹Œì§€ 1.8 ì´ˆê°€ ì†Œìš”ë˜ì—ˆìŠµë‹ˆë‹¤. ( Vite : 11.4ì´ˆ , Webpack : 16.5ì´ˆ ) ì•„ì§ì€ ì•ŒíŒŒë‹¨ê³„ë¡œ next dev, next build ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

</aside>

## `next/image` ì»´í¬ë„ŒíŠ¸ ( Stable )

ìƒˆë¡œìš´ ê°•ë ¥í•œ ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤. ë ˆì´ì•„ì›ƒ ë³€ê²½ ì—†ì´ ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ í‘œì‹œí•˜ê³  ì˜¨ë””ë©˜ë“œ ë°©ì‹ì˜ ìµœì í™”ë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.

**Image** ì»´í¬ë„ŒíŠ¸ëŠ” :

- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ JSê°€ ì ê²Œ ì œê³µ
- ìŠ¤íƒ€ì¼ ì„¤ì •ì´ ì‰¬ì›Œì§„ë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ alt íƒœê·¸ê°€ í•„ìš”í•œ ì—‘ì„¸ìŠ¤ ìš©ì´ì„± í–¥ìƒ
- ì›¹ í”Œë«í¼ ë§ê²Œ ì¡°ì •
- ë” ë¹ ë¦„ ( ë ˆì´ì§€ ë¡œë”©ì´ Hydrateì„ ìš”êµ¬í•˜ì§€ ì•ŠìŒ )

```jsx
import Image from "next/image";
import avatar from "./lee.png";

function Home() {
  // "alt" is now required for improved accessibility
  // optional: image files can be colocated inside the app/ directory
  return <Image alt="leeerob" src={avatar} placeholder="blur" />;
}
```

ìƒì„¸ ë¬¸ì„œ : [https://nextjs.org/docs/advanced-features/codemods](https://nextjs.org/docs/advanced-features/codemods)

## `@next/font` í°íŠ¸ì„¤ì •

ìƒˆë¡œìš´ í°íŠ¸ ì‹œìŠ¤í…œì„ ì§€ì›í•œë‹¤.

- ì»¤ìŠ¤í…€ í°íŠ¸ë¥¼ ë¹„ë¡¯í•œ í°íŠ¸ë¥¼ ìë™ ìµœì í™”í•œë‹¤.
- í”„ë¼ì´ë²„ì‹œì™€ ì„±ëŠ¥ì„ ìœ„í•œ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ ì œê±°
- ì•„ë¬´ í°íŠ¸ íŒŒì¼ì´ë“  ìë™ í˜¸ì´ìŠ¤íŒ…
- CSS `size-adjust` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ë ˆì´ì•„ì›ƒ ì´ë™ì„ 0ìœ¼ë¡œ ì„¤ì •ê°€ëŠ¥

ì´ëŸ¬í•œ ê²½ìš°ë¡œ êµ¬ê¸€ í°íŠ¸ë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ê°€ ìˆë‹¤. CSS ë° font íŒŒì¼ì€ ë¹Œë“œ ì‹œê°„ì— ë‹¤ìš´ë˜ê³  ë‚˜ë¨¸ì§„ ì •ì ì¸ assets ê³¼ í•¨ê»˜ ìë™ í˜¸ìŠ¤íŒ… ëœë‹¤.

```jsx
import { Inter } from '@next/font/google';

const inter = Inter();

<html className={inter.className}>
```

ì»¤ìŠ¤í…€ í°íŠ¸ë„ ì§€ì›í•œë‹¤. ì´ ì—­ì‹œ ìë™ í˜¸ìŠ¤íŒ…, ìºì‹±, í”„ë¦¬ë¡œë”©ì„ ì§€ì›í•œë‹¤.

```jsx
import localFont from '@next/font/local';

const myFont = localFont({ src: './my-font.woff2' });

<html className={myFont.className}>
```

## `next/link` ì»´í¬ë„ŒíŠ¸ ë³€ê²½ì‚¬í•­

next/link ëŠ” ë” ì´ìƒ `<a>` íƒœê·¸ë¥¼ í•„ìˆ˜ë¡œ ìš”êµ¬í•˜ì§€ ì•Šìœ¼ë©°

next 13 ë²„ì „ì—ì„œ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë„ë¡ `npx @next/codemod new-link ./pages` ë¥¼ ì¹˜ë©´ ëœë‹¤.
